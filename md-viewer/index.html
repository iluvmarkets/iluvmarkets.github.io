<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Markdown Viewer</title>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<style>
  body {
    font-family: sans-serif;
    font-size: 14px; /* Slightly smaller font */
    padding: 2rem;
    max-width: 800px;
    margin: auto;
    background-color: #f9f9f9;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    margin: 1.5rem 0;
    background-color: #fff;
    box-shadow: 0 0 5px rgba(0,0,0,0.1);
  }

  th, td {
    border: 1px solid #ccc;
    padding: 8px;
    text-align: left;
  }

  th {
    background-color: #f2f2f2;
    font-weight: bold;
  }

  tr:nth-child(even) td {
    background-color: #f9f9f9;
  }

  h1, h2, h3 {
    border-bottom: 1px solid #ccc;
    padding-bottom: 4px;
    margin-top: 2rem;
  }

  pre, code {
    background-color: #f0f0f0;
    padding: 6px;
    border-radius: 4px;
    font-family: monospace;
  }

  table td:first-child,
  table th:first-child {
    width: 30%;
    text-align: left;
  }

  table td:not(:first-child),
  table th:not(:first-child) {
    width: 10%;
    text-align: right;
  }

/* These classes will be added by JavaScript */
.negative {
    color: red;
}

.positive {
    color: green;
}


</style>
 
</head>
<body>
  <div id="content">Loading...</div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
        const table = document.querySelector('table');
        if (!table) return;

        // Get all rows in the tbody
        const rows = table.querySelectorAll('tbody tr');

        rows.forEach(row => {
            // Get all cells (td) in the current row
            const cells = row.querySelectorAll('td');

            // Target column 6 (index 5)
            if (cells[5]) { // Check if the cell exists
                const value6 = parseFloat(cells[5].textContent);
                if (!isNaN(value6)) { // Check if it's a valid number
                    if (value6 < 0) {
                        cells[5].classList.add('negative');
                    } else if (value6 > 0) {
                        cells[5].classList.add('positive');
                    }
                    // If value6 is 0, no class is added, so it retains default color
                }
            }

            // Target column 7 (index 6)
            if (cells[6]) { // Check if the cell exists
                const value7 = parseFloat(cells[6].textContent);
                if (!isNaN(value7)) { // Check if it's a valid number
                    if (value7 < 0) {
                        cells[6].classList.add('negative');
                    } else if (value7 > 0) {
                        cells[6].classList.add('positive');
                    }
                    // If value7 is 0, no class is added
                }
            }
        });
    });

    function getParam(name) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(name);
    }

    const rawMd = getParam('md');
    if (rawMd) {
    //   const decoded = decodeURIComponent(rawMd);
      const html = marked.parse(rawMd);
      document.getElementById("content").innerHTML = html;
    } else {
      document.getElementById("content").innerHTML = "<p style='color:red'>No markdown content provided.</p>";
    }
  </script>
</body>
</html>